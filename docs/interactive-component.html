<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 5 Interactive component | Disproportionate Impact of COVID-19 Disruptions on Women’s Socioeconomic and Living Conditions</title>
  <meta name="description" content="Chapter 5 Interactive component | Disproportionate Impact of COVID-19 Disruptions on Women’s Socioeconomic and Living Conditions" />
  <meta name="generator" content="bookdown 0.29 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 5 Interactive component | Disproportionate Impact of COVID-19 Disruptions on Women’s Socioeconomic and Living Conditions" />
  <meta property="og:type" content="book" />
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 5 Interactive component | Disproportionate Impact of COVID-19 Disruptions on Women’s Socioeconomic and Living Conditions" />
  
  
  

<meta name="author" content="Xuechun Yuan, Keli Wang" />


<meta name="date" content="2022-12-16" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="results.html"/>
<link rel="next" href="conclusion.html"/>
<script src="libs/jquery-3.5.1/jquery-3.5.1.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>




<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">COVID-19 and Women</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Introduction</a>
<ul>
<li class="chapter" data-level="1.1" data-path="index.html"><a href="index.html#references"><i class="fa fa-check"></i><b>1.1</b> References</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="proposal.html"><a href="proposal.html"><i class="fa fa-check"></i><b>2</b> Proposal</a>
<ul>
<li class="chapter" data-level="2.1" data-path="proposal.html"><a href="proposal.html#research-topic"><i class="fa fa-check"></i><b>2.1</b> Research topic</a></li>
<li class="chapter" data-level="2.2" data-path="proposal.html"><a href="proposal.html#data-availability"><i class="fa fa-check"></i><b>2.2</b> Data availability</a>
<ul>
<li class="chapter" data-level="2.2.1" data-path="proposal.html"><a href="proposal.html#who-covid-19-detailed-surveillance-data-dashboard"><i class="fa fa-check"></i><b>2.2.1</b> WHO COVID-19 Detailed Surveillance Data Dashboard</a></li>
<li class="chapter" data-level="2.2.2" data-path="proposal.html"><a href="proposal.html#covid-19-sex-disaggregated-data-tracker"><i class="fa fa-check"></i><b>2.2.2</b> COVID-19 Sex-Disaggregated Data Tracker</a></li>
<li class="chapter" data-level="2.2.3" data-path="proposal.html"><a href="proposal.html#survey-on-violence-against-woman-during-covid-19"><i class="fa fa-check"></i><b>2.2.3</b> Survey on Violence Against Woman During COVID-19</a></li>
<li class="chapter" data-level="2.2.4" data-path="proposal.html"><a href="proposal.html#survey-on-socioeconomic-impacts-of-covid-19"><i class="fa fa-check"></i><b>2.2.4</b> Survey on Socioeconomic Impacts of COVID-19</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="proposal.html"><a href="proposal.html#references-1"><i class="fa fa-check"></i><b>2.3</b> References</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="data.html"><a href="data.html"><i class="fa fa-check"></i><b>3</b> Data</a>
<ul>
<li class="chapter" data-level="3.1" data-path="data.html"><a href="data.html#sources"><i class="fa fa-check"></i><b>3.1</b> Sources</a>
<ul>
<li class="chapter" data-level="3.1.1" data-path="data.html"><a href="data.html#who-covid-19-detailed-surveillance-data-dashboard-1"><i class="fa fa-check"></i><b>3.1.1</b> WHO COVID-19 Detailed Surveillance Data Dashboard</a></li>
<li class="chapter" data-level="3.1.2" data-path="data.html"><a href="data.html#covid-19-sex-disaggregated-data-tracker-1"><i class="fa fa-check"></i><b>3.1.2</b> COVID-19 Sex-Disaggregated Data Tracker</a></li>
<li class="chapter" data-level="3.1.3" data-path="data.html"><a href="data.html#survey-on-violence-against-woman-during-covid-19-1"><i class="fa fa-check"></i><b>3.1.3</b> Survey on Violence Against Woman During COVID-19</a></li>
<li class="chapter" data-level="3.1.4" data-path="data.html"><a href="data.html#survey-on-socioeconomic-impacts-of-covid-19-1"><i class="fa fa-check"></i><b>3.1.4</b> Survey on Socioeconomic Impacts of COVID-19</a></li>
<li class="chapter" data-level="3.1.5" data-path="data.html"><a href="data.html#references-2"><i class="fa fa-check"></i><b>3.1.5</b> References</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="data.html"><a href="data.html#cleaning-transformation"><i class="fa fa-check"></i><b>3.2</b> Cleaning / transformation</a>
<ul>
<li class="chapter" data-level="3.2.1" data-path="data.html"><a href="data.html#who-covid-19-detailed-surveillance-data-dashboard-2"><i class="fa fa-check"></i><b>3.2.1</b> WHO COVID-19 Detailed Surveillance Data Dashboard</a></li>
<li class="chapter" data-level="3.2.2" data-path="data.html"><a href="data.html#covid-19-sex-disaggregated-data-tracker-2"><i class="fa fa-check"></i><b>3.2.2</b> COVID-19 Sex-Disaggregated Data Tracker</a></li>
<li class="chapter" data-level="3.2.3" data-path="data.html"><a href="data.html#survey-on-violence-against-woman-during-covid-19-2"><i class="fa fa-check"></i><b>3.2.3</b> Survey on Violence Against Woman During COVID-19</a></li>
<li class="chapter" data-level="3.2.4" data-path="data.html"><a href="data.html#survey-on-socioeconomic-impacts-of-covid-19-2"><i class="fa fa-check"></i><b>3.2.4</b> Survey on Socioeconomic Impacts of COVID-19</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="data.html"><a href="data.html#missing-value-analysis"><i class="fa fa-check"></i><b>3.3</b> Missing value analysis</a>
<ul>
<li class="chapter" data-level="3.3.1" data-path="data.html"><a href="data.html#who-covid-19-detailed-surveillance-data-dashboard-3"><i class="fa fa-check"></i><b>3.3.1</b> WHO COVID-19 Detailed Surveillance Data Dashboard</a></li>
<li class="chapter" data-level="3.3.2" data-path="data.html"><a href="data.html#covid-19-sex-disaggregated-data-tracker-3"><i class="fa fa-check"></i><b>3.3.2</b> COVID-19 Sex-Disaggregated Data Tracker</a></li>
<li class="chapter" data-level="3.3.3" data-path="data.html"><a href="data.html#survey-on-violence-against-woman-during-covid-19-3"><i class="fa fa-check"></i><b>3.3.3</b> Survey on Violence Against Woman During COVID-19</a></li>
<li class="chapter" data-level="3.3.4" data-path="data.html"><a href="data.html#survey-on-socioeconomic-impacts-of-covid-19-3"><i class="fa fa-check"></i><b>3.3.4</b> Survey on Socioeconomic Impacts of COVID-19</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="results.html"><a href="results.html"><i class="fa fa-check"></i><b>4</b> Results</a>
<ul>
<li class="chapter" data-level="4.1" data-path="results.html"><a href="results.html#summary"><i class="fa fa-check"></i><b>4.1</b> Summary</a>
<ul>
<li class="chapter" data-level="4.1.1" data-path="results.html"><a href="results.html#reference"><i class="fa fa-check"></i><b>4.1.1</b> Reference</a></li>
</ul></li>
<li class="chapter" data-level="4.2" data-path="results.html"><a href="results.html#who-covid-19-detailed-surveillance-data-dashboard-4"><i class="fa fa-check"></i><b>4.2</b> WHO COVID-19 Detailed Surveillance Data Dashboard</a></li>
<li class="chapter" data-level="4.3" data-path="results.html"><a href="results.html#covid-19-sex-disaggregated-data-tracker-4"><i class="fa fa-check"></i><b>4.3</b> COVID-19 Sex-Disaggregated Data Tracker</a></li>
<li class="chapter" data-level="4.4" data-path="results.html"><a href="results.html#survey-on-violence-against-woman-during-covid-19-4"><i class="fa fa-check"></i><b>4.4</b> Survey on Violence Against Woman During COVID-19</a></li>
<li class="chapter" data-level="4.5" data-path="results.html"><a href="results.html#survey-on-socioeconomic-impacts-of-covid-19-4"><i class="fa fa-check"></i><b>4.5</b> Survey on Socioeconomic Impacts of COVID-19</a>
<ul>
<li class="chapter" data-level="4.5.1" data-path="results.html"><a href="results.html#impact-on-economic-activities"><i class="fa fa-check"></i><b>4.5.1</b> Impact on economic activities</a></li>
<li class="chapter" data-level="4.5.2" data-path="results.html"><a href="results.html#impact-on-unpaid-domestic-and-care-work"><i class="fa fa-check"></i><b>4.5.2</b> Impact on unpaid domestic and care work</a></li>
<li class="chapter" data-level="4.5.3" data-path="results.html"><a href="results.html#impact-on-access-to-goods-and-resources"><i class="fa fa-check"></i><b>4.5.3</b> Impact on access to goods and resources</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="interactive-component.html"><a href="interactive-component.html"><i class="fa fa-check"></i><b>5</b> Interactive component</a>
<ul>
<li class="chapter" data-level="5.1" data-path="interactive-component.html"><a href="interactive-component.html#survey-on-socioeconomic-impacts-of-covid-19-5"><i class="fa fa-check"></i><b>5.1</b> Survey on Socioeconomic Impacts of COVID-19</a>
<ul>
<li class="chapter" data-level="5.1.1" data-path="interactive-component.html"><a href="interactive-component.html#percentage-of-women-reporting-change-in-work-hours-job-loss-and-income-loss"><i class="fa fa-check"></i><b>5.1.1</b> Percentage(%) of women reporting change in work hours, job loss and income loss</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="conclusion.html"><a href="conclusion.html"><i class="fa fa-check"></i><b>6</b> Conclusion</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Disproportionate Impact of COVID-19 Disruptions on Women’s Socioeconomic and Living Conditions</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="interactive-component" class="section level1 hasAnchor" number="5">
<h1><span class="header-section-number">Chapter 5</span> Interactive component<a href="interactive-component.html#interactive-component" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<div id="survey-on-socioeconomic-impacts-of-covid-19-5" class="section level2 hasAnchor" number="5.1">
<h2><span class="header-section-number">5.1</span> Survey on Socioeconomic Impacts of COVID-19<a href="interactive-component.html#survey-on-socioeconomic-impacts-of-covid-19-5" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>The dataset used is the RGA data collected by UN Women. We made three horizontal bar charts to display the percentage(%) of women reporting change in work hours, job loss and income loss as a result of the pandemic. We have incorporated a new dimension here which is the respondents region/continent; therefore, trends across regions/continents can be observed.</p>
<p>To interact with the graph, the audience only needs to click the dropdown menu and select the variable that they would like to explore. This interactivity would allow the audience to be familiar with the list of available variables and therefore have a better idea of what they want to look for; they can then focus on their target variable and get to the results faster by selecting their target with the dropdown menu. They can also switch between the results that they are interested in more conveniently.</p>
<div id="percentage-of-women-reporting-change-in-work-hours-job-loss-and-income-loss" class="section level3 hasAnchor" number="5.1.1">
<h3><span class="header-section-number">5.1.1</span> Percentage(%) of women reporting change in work hours, job loss and income loss<a href="interactive-component.html#percentage-of-women-reporting-change-in-work-hours-job-loss-and-income-loss" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<script src="https://d3js.org/d3.v7.js"></script>
<!-- Initialize a select button -->
<select id="selectButton"></select>
<!-- Color Scale -->
<script src="https://d3js.org/d3-scale-chromatic.v1.min.js"></script>
<div id="my_dataviz">

</div>
<script>
// Create svg and initial bars

  const w = 460;
  const h = 340;
  const margin = {top: 20, right: 30, bottom: 40,
      left: 150};
  const innerWidth = w - margin.left - margin.right;
  const innerHeight = h - margin.top - margin.bottom;
  
  
  var groups = ['Reported job loss of Women', 'Reported income loss of Women', 'Impact on hours worked of Women']
   // add the options to the button
  d3.select("#selectButton")
      .selectAll('myOptions')
        .data(groups)
      .enter()
        .append('option')
      .text(function (d) { return d; }) // text showed in the menu
      .attr("value", function (d) { return d; }) // corresponding value returned by the button
  
  var myColor = d3.scaleOrdinal()
      .domain(groups)
      .range(d3.schemeSet2);
  
  const bardata1 = [{region: "Americas and the Caribbean", value: 49},
                 {region: "Asian and the Pacificb", value: 28},
                 {region: "All regions", value: 23},
                 {region: "Eastern and Southern Africa", value: 19},
                 {region: "Europe and Central Asia", value: 14},
                 {region: "Arab States", value: 11},
                 {region: "West and Central Africa", value: 8}];
                 
  const bardata2 = [{region: "West and Central Africa", value: 87},
                 {region: "Americas and the Caribbean", value: 73},
                 {region: "All regions", value: 61},
                 {region: "Eastern and Southern Africa", value: 57},
                 {region: "Arab States", value: 54},
                 {region: "Europe and Central Asia", value: 39},
                 ];
                 
  const bardata3 = [{region: "Decreased", value: 48},
                 {region: "No change", value: 40},
                 {region: "Increased", value: 13}];
                 
  bardata = bardata1
      
  const yScale = d3.scaleBand()
      .domain(bardata.map(d => d.region))
      .range([0, innerWidth])
      .paddingInner(.1);
          
    
  const xScale = d3.scaleLinear()
          .domain([0, d3.max(bardata.map(d => d.value))])
          .range([0,innerWidth]);
    
  const xAxis = d3.axisBottom()
          .scale(xScale);
    
  const yAxis = d3.axisLeft()
        .scale(yScale);
    
  // add svg
    
  const svg = d3.select("#my_dataviz")
        .append("svg")
          .attr("width", w)
          .attr("height", h)
    
    // add background rectangle
    
  svg.append("rect")
          .attr("x", 0)
          .attr("y", 0)
          .attr("width", w)
          .attr("height", h)
          .attr("fill", "aliceblue");
    
    // add bars as a group
    
  const bars = svg.append("g")
  .attr("id", "plot")
  .attr("transform", `translate (${margin.left}, ${margin.top})`)
  .selectAll("rect")
  .data(bardata);
    
  bars.enter().append("rect").transition().duration(600)
  .attr("y", d => yScale(d.region))
  .attr("x", d => xScale(0))
  .attr("height", yScale.bandwidth())
  .attr("width", d => xScale(d.value))
  .attr("fill", 'orange');
    
  // add axes
    
  svg.append("g")
  .attr("class", "xAxis")
  .attr("transform", `translate (${margin.left}, ${h - margin.bottom})`)
  .call(xAxis);
    
  svg.append("g")
  .attr("class", "yAxis")
  .attr("transform", `translate (${margin.left}, ${margin.top})`)
  .call(yAxis);
  
  function update(selectedGroup) {
    if (selectedGroup == groups[0]) {
        bardata = bardata1; color = 'orange';}else if(selectedGroup == groups[1]){
        bardata = bardata2; color = 'green';}else{
        bardata = bardata3; color = 'blue';}
    const yScale = d3.scaleBand()
          .domain(bardata.map(d => d.region))
          .range([0, innerWidth])
          .paddingInner(.1);
    const xScale = d3.scaleLinear()
          .domain([0, d3.max(bardata.map(d => d.value))])
          .range([0,innerWidth]);
    const xAxis = d3.axisBottom()
          .scale(xScale);
    const yAxis = d3.axisLeft()
          .scale(yScale);
    
    // add svg
    
    
 // add background rectangle
    svg.append("rect")
          .attr("x", 0)
          .attr("y", 0)
          .attr("width", w)
          .attr("height", h)
          .attr("fill", "aliceblue");
  // add bars as a group
    const bars = svg.append("g")
          .attr("id", "plot")
          .attr("transform", `translate (${margin.left}, ${margin.top})`)
        .selectAll("rect")
          .data(bardata);
    bars.enter().append("rect").transition().duration(600)
          .attr("y", d => yScale(d.region))
          .attr("x", d => xScale(0))
          .attr("height", yScale.bandwidth())
          .attr("width", d => xScale(d.value))
          .attr("fill", color);
    svg.append("g")
          .attr("class", "xAxis")
          .attr("transform", `translate (${margin.left}, ${h - margin.bottom})`)
          .call(xAxis);
    svg.append("g")
          .attr("class", "yAxis")
          .attr("transform", `translate (${margin.left}, ${margin.top})`)
          .call(yAxis);
  }
        
  // When the button is changed, run the updateChart function
  d3.select("#selectButton").on("change", function(d){
        // recover the option that has been chosen
        var selectedOption = d3.select(this).property("value");
        // run the updateChart function with this selected option
        update(selectedOption, svg);
    })

</script>

</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="results.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="conclusion.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/xy2506/pandemic_and_women/edit/main/interactive.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": "https://github.com/xy2506/pandemic_and_women/blob/main/interactive.Rmd",
"text": null
},
"download": null,
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
